<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>[Spring] 게시판 만들기 (1) - Learnote-Dev</title>
<meta name="description" content="이 게시물은 이동욱님의 “스프링 부트와 AWS로 혼자 구현하는 웹 서비스”를 읽고 공부하며 작성한 게시물입니다.">


  <meta name="author" content="이민재">
  
  <meta property="article:author" content="이민재">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="Learnote-Dev">
<meta property="og:title" content="[Spring] 게시판 만들기 (1)">
<meta property="og:url" content="http://localhost:4000/java/Spring-%EA%B2%8C%EC%8B%9C%ED%8C%90-%EB%A7%8C%EB%93%A4%EA%B8%B0-(1)/">


  <meta property="og:description" content="이 게시물은 이동욱님의 “스프링 부트와 AWS로 혼자 구현하는 웹 서비스”를 읽고 공부하며 작성한 게시물입니다.">







  <meta property="article:published_time" content="2022-01-04T00:00:00+00:00">





  

  


<link rel="canonical" href="http://localhost:4000/java/Spring-%EA%B2%8C%EC%8B%9C%ED%8C%90-%EB%A7%8C%EB%93%A4%EA%B8%B0-(1)/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "이민재",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Learnote-Dev Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Learnote-Dev
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://leeminjae-dev.github.io/categories/">Categories</a>
            </li><li class="masthead__menu-item">
              <a href="https://leeminjae-dev.github.io/about/">About me</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">토글 메뉴</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/Profile.jpg" alt="이민재" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">이민재</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>포트폴리오/일상 기록</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">팔로우</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Incheon, South Korea</span>
        </li>
      

      
        
          
            <li><a href="lmj938@naver.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
            <li><a href="https://blog.naver.com/lmj938" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
        
          
        
          
            <li><a href="https://github.com/leeminjae-dev/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.instagram.com/mj_lee_97/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
      

      

      
        <li>
          <a href="mailto:lmj938@naver.com">
            <meta itemprop="email" content="lmj938@naver.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">이메일</span>
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  

  
    

<nav class="nav__list">
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">토글 메뉴</label>
  <ul class="nav__items" id="category_tag_menu">
        <!--span 태그로 카테고리들을 크게 분류 ex) Life-->
       <span class="nav__sub-title">Life</span>
            <!--ul 태그로 같은 카테고리들 모아둔 페이지들 나열-->
            <ul>
                <!--Cpp 카테고리 글들을 모아둔 페이지인 /categories/think 주소의 글로 링크 연결-->
                <!--category[1].size 로 해당 카테고리를 가진 글의 개수 표시--> 
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                <!--Cpp 카테고리 글들을 모아둔 페이지인 /categories/diary 주소의 글로 링크 연결-->
                <!--category[1].size 로 해당 카테고리를 가진 글의 개수 표시--> 
                
                    
                
                    
                        <li><a href="/categories/diary-univ" class="">대학생(2021~) (64)</a></li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                

        <!--span 태그로 카테고리들을 크게 분류 ex) Tech-->
       <span class="nav__sub-title">Tech</span>
            <!--ul 태그로 같은 카테고리들 모아둔 페이지들 나열-->
            <ul>
                <!--Cpp 카테고리 글들을 모아둔 페이지인 /categories/diary 주소의 글로 링크 연결-->
                <!--category[1].size 로 해당 카테고리를 가진 글의 개수 표시--> 
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                        <li><a href="/categories/java" class="">Java (44)</a></li>
                    
                
                    
                
                    
                
                    
                
                <!--Cpp 카테고리 글들을 모아둔 페이지인 /categories/diary 주소의 글로 링크 연결-->
                <!--category[1].size 로 해당 카테고리를 가진 글의 개수 표시--> 
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                        <li><a href="/categories/swiftUI" class="">SwiftUI (2)</a></li>
                    
                
                    
                
                    
                
                <!--Cpp 카테고리 글들을 모아둔 페이지인 /categories/diary 주소의 글로 링크 연결-->
                <!--category[1].size 로 해당 카테고리를 가진 글의 개수 표시--> 
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                <!--Cpp 카테고리 글들을 모아둔 페이지인 /categories/diary 주소의 글로 링크 연결-->
                <!--category[1].size 로 해당 카테고리를 가진 글의 개수 표시--> 
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                        <li><a href="/categories/ETC" class="">ETC (1)</a></li>
                    
                


        <span class="nav__sub-title">Algorithm</span>
            <!--ul 태그로 같은 카테고리들 모아둔 페이지들 나열-->
            <ul>
                <!--Cpp 카테고리 글들을 모아둔 페이지인 /categories/baekjoon 주소의 글로 링크 연결-->
                <!--category[1].size 로 해당 카테고리를 가진 글의 개수 표시--> 
                
                    
                        <li><a href="/categories/baekjoon" class="">Baekjoon (61)</a></li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                

		<!--Cpp 카테고리 글들을 모아둔 페이지인 /categories/baekjoon 주소의 글로 링크 연결-->
                
                    
                
                    
                
                    
                
                    
                
                    
                        <li><a href="/categories/programmers" class="">Programmers(66)</a></li>
                    
                
                    
                
                    
                
                    
                
                    
                
<!--span 태그로 카테고리들을 크게 분류 ex) ALgoritm/Life-->
       <span class="nav__sub-title">Knowledge</span>
            <!--ul 태그로 같은 카테고리들 모아둔 페이지들 나열-->
            <ul>
                <!--Cpp 카테고리 글들을 모아둔 페이지인 /categories/machinelearning주소의 글로 링크 연결-->
                <!--category[1].size 로 해당 카테고리를 가진 글의 개수 표시--> 
                
                    
                
                    
                
                    
                        <li><a href="/categories/machinelearning" class="">Machine Learning (4)</a></li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                


                
                    
                
                    
                
                    
                
                    
                        <li><a href="/categories/finance" class="">Finance(3)</a></li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                

          
      </li>
  </ul>
</nav>

  

  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="[Spring] 게시판 만들기 (1)">
    <meta itemprop="description" content="이 게시물은 이동욱님의 “스프링 부트와 AWS로 혼자 구현하는 웹 서비스”를 읽고 공부하며 작성한 게시물입니다.">
    <meta itemprop="datePublished" content="2022-01-04T00:00:00+00:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">[Spring] 게시판 만들기 (1)
</h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-01-04T00:00:00+00:00">January 4, 2022</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          10 분 소요
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this Page</h4></header>
              <ul class="toc__menu"><li><a href="#시작하며">시작하며…</a></li><li><a href="#요구사항-분석">요구사항 분석</a></li><li><a href="#의존성-추가">의존성 추가</a><ul><li><a href="#spring-boot-starter-data-jpa">spring-boot-starter-data-jpa</a></li><li><a href="#h2">h2</a></li></ul></li><li><a href="#posts-클래스">Posts 클래스</a><ul><li><a href="#entity">@Entity</a></li><li><a href="#id">@Id</a></li><li><a href="#generatedvalue">@GeneratedValue</a></li><li><a href="#column">@Column</a></li></ul></li><li><a href="#postsrepository">PostsRepository</a></li><li><a href="#spring-data-jpa-테스트-코드">Spring Data JPA 테스트 코드</a><ul><li><a href="#after">@After</a></li><li><a href="#postsrepositorysave">@postsRepository.save</a></li><li><a href="#postsrepositoryfindall">postsRepository.findAll</a></li></ul></li><li><a href="#실제-실행된-쿼리-보기">실제 실행된 쿼리 보기</a></li><li><a href="#등록수정조회-api-만들기">등록/수정/조회 API 만들기</a><ul><li><a href="#postapicontroller">PostApiController</a></li><li><a href="#postsservice">PostsService</a></li><li><a href="#postssaverequestdto">PostsSaveRequestDto</a></li></ul></li></ul>

            </nav>
          </aside>
        
        <p>이 게시물은 이동욱님의 “스프링 부트와 AWS로 혼자 구현하는 웹 서비스”를 읽고 공부하며 작성한 게시물입니다.</p>

<h2 id="시작하며">시작하며…</h2>
<p>이 책은 3장부터 6장까지는 하나의 게시판을 만들어보고 7장부터 10장까지는 이 서비스를 AWS에 무중단 배포하는것 까지를 진행한다고 한다.</p>

<p>게시판 기능은 CRUD, Create, Read, Update, Delete가 가능하게 함으로써, 데이터베이스를 사용하기 위한 기초적인 4가지의 쿼리 형식을 배울 수 있도록 만들어 볼 것 이다.</p>

<h2 id="요구사항-분석">요구사항 분석</h2>
<p>먼저 프로그램을 만들기 전에 어떤 기능들을 추가할지 간단하게 README 파일에 기능별로 정리해준다. 이렇게 하면 어떤걸 개발하여야 할지 망설이지 않아도 되며, 기능 별로 커밋하여 버젼관리를 용이하게 할 수 있다.</p>

<p>구현해야할 기능 목록을 대략 정리해보면, 다음과 같다.</p>

<ul>
  <li>게시판 기능
    <ul>
      <li>게시글 조회</li>
      <li>게시글 등록</li>
      <li>게시글 수정</li>
      <li>게시글 삭제</li>
    </ul>
  </li>
  <li>회원기능
    <ul>
      <li>구글/네이버 로그인</li>
      <li>로그인한 사용자 글 작성 권한</li>
      <li>본인 작성 글에 대한 권한 관리</li>
    </ul>
  </li>
</ul>

<h2 id="의존성-추가">의존성 추가</h2>
<p>게시판 기능은 게시글이나 유저에 대한 데이터베이스가 필요하기 때문에 이를 사용하기 위해서 데이터베이스를 설정해주어야 한다. 이 책에서는 JPA를 사용하고 있다. 따라서 스프링 부트용 JPA 라이브러리와 h2의 의존성을 추가해주어야 한다.</p>

<p>build.gradle 파일의 dependencies 부분에 다음과 같은 코드를 추가해준다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="n">dependencies</span> <span class="o">{</span>
    <span class="n">implementation</span><span class="o">(</span><span class="err">'</span><span class="n">org</span><span class="o">.</span><span class="na">springframework</span><span class="o">.</span><span class="na">boot</span><span class="o">:</span><span class="n">spring</span><span class="o">-</span><span class="n">boot</span><span class="o">-</span><span class="n">starter</span><span class="o">-</span><span class="n">data</span><span class="o">-</span><span class="n">jpa</span><span class="err">'</span><span class="o">)</span>
    <span class="n">implementation</span><span class="o">(</span><span class="err">'</span><span class="n">com</span><span class="o">.</span><span class="na">h2database</span><span class="o">:</span><span class="n">h2</span><span class="err">'</span><span class="o">)</span>

<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="spring-boot-starter-data-jpa">spring-boot-starter-data-jpa</h3>
<ul>
  <li>스프링 부트용 Spring Data Jpa 추상화 라이브러리</li>
  <li>스프링 부트 버전에 맞추어 자동으로 JPA관련 라이브러리들의 버전을 관리해 준다.</li>
</ul>

<h3 id="h2">h2</h3>
<ul>
  <li>인메모리 관계형 데이터베이스</li>
  <li>별도의 설치 없이 프로젝트 의존성만으로 관리가 가능하다.</li>
  <li>메모리에서 실행되기 떄문에 애플리케이션을 재시작할 때마다 초기화 된다는 점을 이용하여 테스트 용도로 많이 사용된다.</li>
  <li>이 책에서는 JPA테스트 및 로컬 환경에서의 구동에서 사용된다.</li>
</ul>

<h2 id="posts-클래스">Posts 클래스</h2>
<p>게시물들을 담당하는 Posts 클래스를 만들어보자.</p>

<p>먼저 Posts가 위치할 패키지 구조를 만들어주어야 한다. domain이라는 패키지를 만들어주고, 그 안에 posts라는 패키지를 만들어 그 안에 Posts클래스가 위치하게 될 것이다.</p>

<p>domain 패키지는 말그대로 도메인을 담을 패키지인데, 여기서 도메인이란 게시글, 회원, 정산, 결제 등 소프트웨어에 대한 요구사항 혹은 문제영역이라고 생각하면 된다.</p>

<p>Posts 클래스의 코드는 다음과같다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">lombok.Builder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Getter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.NoArgsConstructor</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.persistence.*</span><span class="o">;</span>

<span class="nd">@Getter</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Posts</span> <span class="o">{</span>

    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>

    <span class="nd">@Column</span><span class="o">(</span><span class="n">length</span> <span class="o">=</span> <span class="mi">500</span><span class="o">,</span> <span class="n">nullable</span> <span class="o">=</span> <span class="kc">false</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">title</span><span class="o">;</span>

    <span class="nd">@Column</span><span class="o">(</span><span class="n">columnDefinition</span> <span class="o">=</span> <span class="s">"TEXT"</span><span class="o">,</span> <span class="n">nullable</span> <span class="o">=</span> <span class="kc">false</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">content</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="n">author</span><span class="o">;</span>

    <span class="nd">@Builder</span>
    <span class="kd">public</span> <span class="nf">Posts</span><span class="o">(</span><span class="nc">String</span> <span class="n">title</span><span class="o">,</span> <span class="nc">String</span> <span class="n">content</span><span class="o">,</span> <span class="nc">String</span> <span class="n">author</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">author</span> <span class="o">=</span> <span class="n">author</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="entity">@Entity</h3>
<ul>
  <li>테이블과 링크될 클래스임을 나타낸다.</li>
  <li>
    <p>기본값으로 클래스의 카멜케이스 이름을 언더스코어 네이밍(_)으로 테이블 이름을 매칭한다.<br />
ex) SalesManager.java -&gt; salse_manager table</p>
  </li>
  <li>웬만하면 Entity의 PrimaryKey는 Long 타입의 Auto_increment를 사용하는 것이 좋다. (이렇게 하면 MySQL 기준으로는 bigint 타입이 된다.) 주민등록 번호와 같이 비즈니스상 유니크 키나, 여러키를 조합한 복합키로 PrimaryKey를 설정할 경우 난감한 상황이 종종 발생 하게 된다.<br />
(1) FK(Foreign Key)를 맺을 떄 다른 테이블에서 복합키 전부를 갖고 있거나, 중간 테이블을 하나 더 둬야 하는 상황이 발생한다.<br />
(2) 인덱스에 좋은 영향을 끼치지 못한다.<br />
(3) 유니크한 조건이 변경될 경우 PK 전체를 수정해야 하는 일이 발생한다. 주민번호나 복합키 등은 유니크 키로 별도로 추가하는 것이 좋다.</li>
</ul>

<h3 id="id">@Id</h3>
<ul>
  <li>해당 테이블의 Primary Key 필드를 나타낸다.</li>
</ul>

<h3 id="generatedvalue">@GeneratedValue</h3>
<ul>
  <li>PK의 생성규칙을 나타낸다.</li>
  <li>스프링 부트 2.0 에서는 GenerationType.IDENTITY 옵션을 추가해야만 auto_increment가 된다.</li>
</ul>

<h3 id="column">@Column</h3>
<ul>
  <li>테이블의 칼럼을 나타내며 굳이 선언하지 않더라도 해당 클래스의 필드는 모두 칼럼이 되지만, 기본값외에 추가로 변경이 필요한 옵션이 있다면 사용한다.</li>
  <li>문자열의 경우 VARCHAR(255)가 기본값인데, 위처럼 length나 타입을 변경하고 싶다면 Column을 선언하여 변경할 수 있다.</li>
</ul>

<p>이 Posts 클래스에는 한가지 특징이 있는데, 바로 Setter 메소드가 없다는 것이다. 자바빈 규약을 생각하면서 getter/setter를 무작정 생성부터 하고보는 경우가 있는데, 이렇게 하면 해당 클래스의 인스턴스 값들이 언제 어디서 변해야 하는지 코드상으로 명확하게 구분할 수가 없어, 차후 기능 변경이 정말 복잡해진다.</p>

<p>그래서 <strong>Entity 클래스에서는 절대로 Setter 메소드를 만들지 않는다</strong> 대신, 해당 필드의 값 변경이 필요하다면 명확히 목적과 의도가 나타나는 메소드를 추가해야하만 한다.</p>

<p>예를들어 주문을 취소하는 메서드를 만든다고 가정하면 setter를 사용했다면 아래와 같이,</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Order</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setStatus</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">status</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">status</span> <span class="o">=</span> <span class="n">status</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="n">주문서비스의_취소이벤트</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">order</span><span class="o">.</span><span class="na">setStatus</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>setter 메서드를 사용하는게 아니라</p>

<p>목적과 의도가 명확한 방식인</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Order</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">cancleOrder</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">status</span> <span class="o">=</span> <span class="kc">false</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="n">주문서비스의_취소이벤트</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">order</span><span class="o">.</span><span class="na">cancleOrder</span><span class="o">();</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>위와 같은 메서드를 사용해 주어야 한다.</p>

<p>그렇다면 Setter가 없다면 어떻게 값을 채워 DB에 삽입해야 할까?</p>

<p>기본적인 구조는 생성자를 통해서 최종값을 채우고 DB에 삽입하는 것이며, 값 변경이 필요한 경우에만 해당 이벤트에 맞는 pulic 메소드를 호출하여 변경하는 것을 전제로 한다.</p>

<p>이 책에서는 생성자 대신에 @Builder를 사용하게 될텐데, 생성자와 빌더 모두 생성 시점에 값을 채워주는 역할은 똑같지만, 생성자의 경우 지금 채워야 할 필드가 무엇인지 명확히 지정할 수가 없다.</p>

<p>예를들어, 다음과 같은 생성자가 있다고 가정하자.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="nf">Example</span><span class="o">(</span><span class="nc">String</span> <span class="n">a</span><span class="o">,</span> <span class="nc">String</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">a</span> <span class="o">=</span> <span class="n">a</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">b</span> <span class="o">=</span> <span class="n">b</span><span class="o">;</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>이 경우에는 만약 개발자가 new Example(b,a)와 같이 a와 b의 위치가 변경해도 코드가 실행되기 전까지는 문제를 찾을 수가 없다</p>

<p>하지만 @Builder를 사용하면 다음과 같이 어느 필드에 어떤 값을 채워야 할지 명확하게 인지가 가능하다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nc">Example</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">a</span><span class="o">(</span><span class="n">a</span><span class="o">)</span>
    <span class="o">.</span><span class="na">b</span><span class="o">(</span><span class="n">b</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>이렇게 .a(), .b()와 같이 어느 필드에 값을 채우는지를 정확하게 명시하기 떄문에 훨씬 더 명확해짐을 알 수 있다.</p>

<p>그럼 이제, Posts 클래스로 Database를 접근하게 해줄 JpaRepository인 PostsRepository를 생성해주자.</p>

<h2 id="postsrepository">PostsRepository</h2>
<p>동일하게 posts 패키지에 PostsRepository라는 이름의 인터페이스를 하나 생성해주고 다음과 같은 코드를 입력해준다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">org.springframework.data.jpa.repository.JpaRepository</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">PostsRepository</span> <span class="kd">extends</span> <span class="nc">JpaRepository</span><span class="o">&lt;</span><span class="nc">Posts</span><span class="o">,</span> <span class="nc">Long</span><span class="o">&gt;</span> <span class="o">{</span>
    
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>생성된 interface인 PostsRepository에 JpaRepository &lt;Entity 클래스, PK 타입&gt;를 상속하면, @Repository를 추가할 필요도 없이 기본적인 CRUD 메소드가 자동으로 생성된다.</p>

<p>여기서 주의해야할 점은 Entity 클래스와 기본 EntityRepository는 함께 위치해야한다는 점이다. 둘은 아주 밀접하고 Entity 클래스는 기본 Repository 없이는 제대로 역할을 할 수 없기 때문이다.</p>

<p>만약 프로젝트 규모가 커져서 도메인별로 프로젝트를 분리해야 한다면 Entity 클래스와 기본 Repository는 함께 움직여야 하므로 도메인 패키지에서 함께 관리한다.</p>

<h2 id="spring-data-jpa-테스트-코드">Spring Data JPA 테스트 코드</h2>
<p>만들어준 postsRepository를 테스트 해보기위해 테스트 코드를 작성해보자. 테스트 코드에서는 save와 findAll 기능을 테스트 할 것 이다.</p>

<p>test 폴더에 동일하게 domain.posts패키지를 만들어주고, PostsRepositoryTest라는 테스트 클래스를 만들어준다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">org.junit.After</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.junit.Test</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.junit.runner.RunWith</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.test.context.SpringBootTest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.test.context.junit4.SpringRunner</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">assertj</span><span class="o">.</span><span class="na">core</span><span class="o">.</span><span class="na">api</span><span class="o">.</span><span class="na">Assertions</span><span class="o">.</span><span class="na">assertThat</span><span class="o">;</span>

<span class="nd">@RunWith</span><span class="o">(</span><span class="nc">SpringRunner</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="nd">@SpringBootTest</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PostsRepositoryTest</span> <span class="o">{</span>

    <span class="nd">@Autowired</span>
    <span class="nc">PostsRepository</span> <span class="n">postsRepository</span><span class="o">;</span>

    <span class="nd">@After</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">CleanUp</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">postsRepository</span><span class="o">.</span><span class="na">deleteAll</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">게시글저장_불러오기</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//given</span>
        <span class="nc">String</span> <span class="n">title</span> <span class="o">=</span> <span class="s">"테스트 게시글"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">content</span> <span class="o">=</span> <span class="s">"테스트 본문"</span><span class="o">;</span>

        <span class="n">postsRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="nc">Posts</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">title</span><span class="o">(</span><span class="n">title</span><span class="o">)</span>
                <span class="o">.</span><span class="na">content</span><span class="o">(</span><span class="n">content</span><span class="o">)</span>
                <span class="o">.</span><span class="na">author</span><span class="o">(</span><span class="s">"lmj938@naver.com"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">build</span><span class="o">());</span>

        <span class="c1">//when</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Posts</span><span class="o">&gt;</span> <span class="n">postsList</span> <span class="o">=</span> <span class="n">postsRepository</span><span class="o">.</span><span class="na">findAll</span><span class="o">();</span>

        <span class="c1">//then</span>
        <span class="nc">Posts</span> <span class="n">posts</span> <span class="o">=</span> <span class="n">postsList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>

        <span class="n">assertThat</span><span class="o">(</span><span class="n">posts</span><span class="o">.</span><span class="na">getTitle</span><span class="o">()).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="n">title</span><span class="o">);</span>
        <span class="n">assertThat</span><span class="o">(</span><span class="n">posts</span><span class="o">.</span><span class="na">getContent</span><span class="o">()).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="n">content</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<h3 id="after">@After</h3>
<ul>
  <li>Junit에서 단위 테스트가 끝날 때마다 수행되는 메서드를 지정</li>
  <li>보통은 배포 전 전체 테스트를 수행할 때 테스트간 데이터 침범을 막기 위해 사용한다.</li>
  <li>여러 테스트가 동시에 수행되면 테스트용 데이터베이스인 H2에 데이터가 그대로 남아 있어 다음 테스트 실행 시 테스트가 실패할 수 있다.</li>
</ul>

<h3 id="postsrepositorysave">@postsRepository.save</h3>
<ul>
  <li>테이블 posts에 insert/update 쿼리를 실행한다.</li>
  <li>id 값이 있다면 update가 실행되고, 없다면 insert 쿼리가 실행된다.</li>
</ul>

<h3 id="postsrepositoryfindall">postsRepository.findAll</h3>
<ul>
  <li>테이블 posts에 있는 모든 데이터를 조회해오는 메서드이다.</li>
</ul>

<p>별다른 설정 없이 @SpringBootTest를 사용해주면 H2 데이터베이스를 자동으로 실행해 준다.</p>

<p>테스트 코드를 실행시키면, Tests passed와 함께 테스트가 올바르게 통과 했음을 알 수 있다.</p>

<h2 id="실제-실행된-쿼리-보기">실제 실행된 쿼리 보기</h2>
<p>테스트 코드로 쿼리가 올바르게 실행됐는지를 보는것이 아니라 <strong>실제로 실행된 쿼리</strong>를 보고 싶다면 어떻게 해야할까?</p>

<p>자바 클래스로도 이러한 기능을 구현할 수 있지만, 스프링 부트 자체에서는 application.properties나 application.yml 등의 파일로 한줄의 코드로 설정할 수 있으니 이를 사용하는게 훨씬 편리하다.</p>

<p>먼저, src/main/resources 디렉토리 아래에 application.properties 파일을 생성해보자.</p>

<p>생성한 파일에 아래와 같은 옵션을 추가해 준뒤, 다시 postsRepositoryTest를 실행해준다.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">spring</span><span class="o">.</span><span class="na">jpa</span><span class="o">.</span><span class="na">show_sql</span> <span class="o">=</span> <span class="kc">true</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>그렇게 하면 다음과 같이 콘솔에서 쿼리로그를 확인 할 수 있다.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="nl">Hibernate:</span> <span class="n">drop</span> <span class="n">table</span> <span class="n">posts</span> <span class="k">if</span> <span class="n">exists</span>
<span class="nl">Hibernate:</span> <span class="n">create</span> <span class="n">table</span> <span class="nf">posts</span> <span class="o">(</span><span class="n">id</span> <span class="n">bigint</span> <span class="n">generated</span> <span class="n">by</span> <span class="k">default</span> <span class="n">as</span> <span class="n">identity</span><span class="o">,</span> <span class="n">author</span> <span class="nf">varchar</span><span class="o">(</span><span class="mi">255</span><span class="o">),</span> <span class="n">content</span> <span class="no">TEXT</span> <span class="n">not</span> <span class="kc">null</span><span class="o">,</span> <span class="n">title</span> <span class="nf">varchar</span><span class="o">(</span><span class="mi">500</span><span class="o">)</span> <span class="n">not</span> <span class="kc">null</span><span class="o">,</span> <span class="n">primary</span> <span class="nf">key</span> <span class="o">(</span><span class="n">id</span><span class="o">))</span>

<span class="nl">Hibernate:</span> <span class="n">select</span> <span class="n">posts0_</span><span class="o">.</span><span class="na">id</span> <span class="n">as</span> <span class="n">id1_0_</span><span class="o">,</span> <span class="n">posts0_</span><span class="o">.</span><span class="na">author</span> <span class="n">as</span> <span class="n">author2_0_</span><span class="o">,</span> <span class="n">posts0_</span><span class="o">.</span><span class="na">content</span> <span class="n">as</span> <span class="n">content3_0_</span><span class="o">,</span> <span class="n">posts0_</span><span class="o">.</span><span class="na">title</span> <span class="n">as</span> <span class="n">title4_0_</span> <span class="n">from</span> <span class="n">posts</span> <span class="n">posts0_</span>
<span class="nl">Hibernate:</span> <span class="n">select</span> <span class="n">posts0_</span><span class="o">.</span><span class="na">id</span> <span class="n">as</span> <span class="n">id1_0_</span><span class="o">,</span> <span class="n">posts0_</span><span class="o">.</span><span class="na">author</span> <span class="n">as</span> <span class="n">author2_0_</span><span class="o">,</span> <span class="n">posts0_</span><span class="o">.</span><span class="na">content</span> <span class="n">as</span> <span class="n">content3_0_</span><span class="o">,</span> <span class="n">posts0_</span><span class="o">.</span><span class="na">title</span> <span class="n">as</span> <span class="n">title4_0_</span> <span class="n">from</span> <span class="n">posts</span> <span class="n">posts0_</span>
<span class="nl">Hibernate:</span> <span class="n">delete</span> <span class="n">from</span> <span class="n">posts</span> <span class="n">where</span> <span class="n">id</span><span class="o">=?</span>

<span class="nl">Hibernate:</span> <span class="n">drop</span> <span class="n">table</span> <span class="n">posts</span> <span class="k">if</span> <span class="n">exists</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>여기서 create table의 쿼리를 보면 id bigint generated by default as identity라는 옵션으로 생성되는데, 이는 H2의 쿼리 문법이 적용되었기 떄문이다. H2는 MySQL의 쿼리를 수행해도 정상적으로 작동하기 때문에, 이후 디버깅을 위해 출력되는 쿼리 로그를 MySQL 버전으로 변경해보자.</p>

<p>이 옵션도 마찬가지로 application.properties레서 옵션을 추가해 설정이 가능하다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">spring</span><span class="o">.</span><span class="na">jpa</span><span class="o">.</span><span class="na">properties</span><span class="o">.</span><span class="na">hibernate</span><span class="o">.</span><span class="na">dialect</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="na">hibernate</span><span class="o">.</span><span class="na">dialect</span><span class="o">.</span><span class="na">MySQL5InnoDBDialect</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>다시 테스트 코드를 run하면,</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nl">Hibernate:</span> <span class="n">create</span> <span class="n">table</span> <span class="nf">posts</span> <span class="o">(</span><span class="n">id</span> <span class="n">bigint</span> <span class="n">not</span> <span class="kc">null</span> <span class="n">auto_increment</span><span class="o">,</span> <span class="n">author</span> <span class="nf">varchar</span><span class="o">(</span><span class="mi">255</span><span class="o">),</span> <span class="n">content</span> <span class="no">TEXT</span> <span class="n">not</span> <span class="kc">null</span><span class="o">,</span> <span class="n">title</span> <span class="nf">varchar</span><span class="o">(</span><span class="mi">500</span><span class="o">)</span> <span class="n">not</span> <span class="kc">null</span><span class="o">,</span> <span class="n">primary</span> <span class="nf">key</span> <span class="o">(</span><span class="n">id</span><span class="o">))</span> <span class="n">engine</span><span class="o">=</span><span class="nc">InnoDB</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>다음과 같이 옵션이 잘 적용되어 id bigint not null auto_increment로 바뀐 것을 확인 할 수 있다.</p>

<h2 id="등록수정조회-api-만들기">등록/수정/조회 API 만들기</h2>
<p>API를 만들기 위해 총 3개의 클래스가 필요하다.</p>

<ul>
  <li>Request 데이터를 받을 Dto</li>
  <li>API 요청을 받을 Controller</li>
  <li>트랜잭션, 도메인 기능간의 순서를 보장하는 Service</li>
</ul>

<p>여기서 많은 사람들이 오해하는 것이, <strong>Service에서 비지니스 로직을 처리해야 한다</strong>는 것이다. 하지만, Service는 트랜잭션, 도메인 간의 순서 보장만 할뿐, 비즈니스 로직을 처리하지는 않는다.</p>

<p>비즈니스 로직의 처리를 담당해야 할 곳은 Service가 아닌 바로 <strong>Domain</strong>이다.</p>

<p>Domain에서 비즈니스로직을 처리하고, Service에서는 이를 사용해 트랜잭션과 도메인간의 순서를 보장해주는 역할 만을 담당 하는 것이다.</p>

<p>그럼 이를 바탕으로 등록, 수정, 삭제 기능을 만들어보자.</p>

<p>web 패키지를 만들어 PostsApiController를 만들어주고,<br />
web.dto 패키지에 PostsSaveRequestDto를,<br />
service 패키지를 만든 뒤, service.posts 패키지를 만들어 PostsService를 만들어준다.</p>

<h3 id="postapicontroller">PostApiController</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">lombok.RequiredArgsConstructor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.PostMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestBody</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RestController</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">springboot.service.posts.PostsService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">springboot.web.dto.PostsSaveRequestDto</span><span class="o">;</span>

<span class="nd">@RequiredArgsConstructor</span>
<span class="nd">@RestController</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PostsApiController</span> <span class="o">{</span>
    
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">PostsService</span> <span class="n">postsService</span><span class="o">;</span>
    
    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"/api/v1/posts"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">save</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">PostsSaveRequestDto</span> <span class="n">requestDto</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">postsService</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">requestDto</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="postsservice">PostsService</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">lombok.RequiredArgsConstructor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Service</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">springboot.domain.posts.PostsRepository</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">springboot.web.dto.PostsSaveRequestDto</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.transaction.Transactional</span><span class="o">;</span>

<span class="nd">@RequiredArgsConstructor</span>
<span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PostsService</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">PostsRepository</span> <span class="n">postsRepository</span><span class="o">;</span>

    <span class="nd">@Transactional</span>
    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">save</span><span class="o">(</span><span class="nc">PostsSaveRequestDto</span> <span class="n">requestDto</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">postsRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">requestDto</span><span class="o">.</span><span class="na">toEntity</span><span class="o">()).</span><span class="na">getId</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>위 코드를 보면 Controller와 Service에서 @Autowired 없이 Bean을 주입 받았는데, 스프링에선 Bean을 주입받는 방식들이 몇가지 있는데,</p>

<ul>
  <li>@Autowired</li>
  <li>setter</li>
  <li>생성자</li>
</ul>

<p>이렇게 세가지로 Bean을 주입받을 수 있다. 이 중 가장 권장되는 방법은 <strong>생성자로 주입</strong>받는 방식인데, 위 코드에서도 @RequiredArgsConstructor을 사용하여 생성자를 만들어 주입받은 걸 알 수 있다.</p>

<p>생성자를 직접 작성하지 않고 롬복 어노테이션을 사용하는 이유는 해당 클래스의 의존성 관계가 변경될 때마다 생성자 코드를 계속해서 수정하는 번거로움을 해결하기 위해서다.</p>

<h3 id="postssaverequestdto">PostsSaveRequestDto</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">lombok.Builder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Getter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.NoArgsConstructor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">springboot.domain.posts.Posts</span><span class="o">;</span>

<span class="nd">@Getter</span>
<span class="nd">@NoArgsConstructor</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PostsSaveRequestDto</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">title</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">content</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">author</span><span class="o">;</span>

    <span class="nd">@Builder</span>
    <span class="kd">public</span> <span class="nf">PostsSaveRequestDto</span><span class="o">(</span><span class="nc">String</span> <span class="n">title</span><span class="o">,</span> <span class="nc">String</span> <span class="n">content</span><span class="o">,</span> <span class="nc">String</span> <span class="n">author</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">author</span> <span class="o">=</span> <span class="n">author</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">Posts</span> <span class="nf">toEntity</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">Posts</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">title</span><span class="o">(</span><span class="n">title</span><span class="o">)</span>
                <span class="o">.</span><span class="na">content</span><span class="o">(</span><span class="n">content</span><span class="o">)</span>
                <span class="o">.</span><span class="na">author</span><span class="o">(</span><span class="n">author</span><span class="o">)</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>여기서는 Entity 클래스와 거의 같은 코드임에도 Dto 클래스를 추가로 생성해주었다. Entity클래스는 데이터베이스와 맞닿아 있는 핵심 클래스이기 때문에 Entity 클래스를 기준으로 테이블이 생성되고, 스키마가 변경된다. 따라서 화면 변경은 아주 사소한 변경이기 때문에 이를 위해서 Entity 클래스를 변경하는 것은 너무나 큰 변경이다. 따라서 <strong>Entity 클래스를 절대로 Request/Response 클래스로 사용해서는 안된다.</strong></p>

<p>이처럼 View Layer와 DB Layer는 역할 분리를 철저하게 해주는 것이 좋은데, 실제로 Controller에서 결과값으로 여러 테이블을 조인해서 줘야하는 경우가 많기 때문에 Entity 클래스만으로 표현하기가 어려울 때가 많다. 하지만 그럼에도 꼭 Entity 클래스와 Controller에서 쓸 Dto는 분리해서 사용해주어야 한다.</p>

<p>그럼 이렇게 만들어준 PostsApiController를 테스트 하는 PostsApiControllerTest를 작성해보자.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">org.junit.After</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.junit.Test</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.junit.runner.RunWith</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.test.context.SpringBootTest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.test.web.client.TestRestTemplate</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.web.server.LocalServerPort</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.HttpStatus</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.ResponseEntity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.test.context.junit4.SpringRunner</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">springboot.domain.posts.Posts</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">springboot.domain.posts.PostsRepository</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">springboot.web.dto.PostsSaveRequestDto</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">assertj</span><span class="o">.</span><span class="na">core</span><span class="o">.</span><span class="na">api</span><span class="o">.</span><span class="na">Assertions</span><span class="o">.</span><span class="na">assertThat</span><span class="o">;</span>

<span class="nd">@RunWith</span><span class="o">(</span><span class="nc">SpringRunner</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="nd">@SpringBootTest</span><span class="o">(</span><span class="n">webEnvironment</span> <span class="o">=</span> <span class="nc">SpringBootTest</span><span class="o">.</span><span class="na">WebEnvironment</span><span class="o">.</span><span class="na">RANDOM_PORT</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PostsApiControllerTest</span> <span class="o">{</span>

    <span class="nd">@LocalServerPort</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">port</span><span class="o">;</span>

    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="nc">TestRestTemplate</span> <span class="n">restTemplate</span><span class="o">;</span>

    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="nc">PostsRepository</span> <span class="n">postsRepository</span><span class="o">;</span>

    <span class="nd">@After</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">tearDown</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">postsRepository</span><span class="o">.</span><span class="na">deleteAll</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">Posts_등록된다</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">title</span> <span class="o">=</span> <span class="s">"title"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">content</span> <span class="o">=</span> <span class="s">"content"</span><span class="o">;</span>
        <span class="nc">PostsSaveRequestDto</span> <span class="n">requestDto</span> <span class="o">=</span> <span class="nc">PostsSaveRequestDto</span>
                <span class="o">.</span><span class="na">builder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">title</span><span class="o">(</span><span class="n">title</span><span class="o">)</span>
                <span class="o">.</span><span class="na">content</span><span class="o">(</span><span class="n">content</span><span class="o">)</span>
                <span class="o">.</span><span class="na">author</span><span class="o">(</span><span class="s">"author"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>

        <span class="nc">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">"http://localhost:"</span> <span class="o">+</span> <span class="n">port</span> <span class="o">+</span> <span class="s">"/api/v1/posts"</span><span class="o">;</span>

        <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">&gt;</span> <span class="n">responseEntity</span> <span class="o">=</span> <span class="n">restTemplate</span><span class="o">.</span><span class="na">postForEntity</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">requestDto</span><span class="o">,</span> <span class="nc">Long</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

        <span class="n">assertThat</span><span class="o">(</span><span class="n">responseEntity</span><span class="o">.</span><span class="na">getStatusCode</span><span class="o">()).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="nc">HttpStatus</span><span class="o">.</span><span class="na">OK</span><span class="o">);</span>
        <span class="n">assertThat</span><span class="o">(</span><span class="n">responseEntity</span><span class="o">.</span><span class="na">getBody</span><span class="o">()).</span><span class="na">isGreaterThan</span><span class="o">(</span><span class="mi">0L</span><span class="o">);</span>

        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Posts</span><span class="o">&gt;</span> <span class="n">all</span> <span class="o">=</span> <span class="n">postsRepository</span><span class="o">.</span><span class="na">findAll</span><span class="o">();</span>
        <span class="n">assertThat</span><span class="o">(</span><span class="n">all</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getTitle</span><span class="o">()).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="n">title</span><span class="o">);</span>
        <span class="n">assertThat</span><span class="o">(</span><span class="n">all</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getContent</span><span class="o">()).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="n">content</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>ApiController를 테스트 하는데 HelloController와 다르게 @WebMvcTest를 사용하지 않았다. @WenMvcTest의 경우 JPA 기능이 작동하지 않기 때문인데, Controller와 ControllerAdvice 등 외부 연동과 관련된 부분만 활성화되니 지금 같이 JPA 기능까지 한번에 테스트할 때는 @SpringBootTest와 TestRestTemplate을 사용하면 된다.</p>

<p>이 테스트를 수행해 보면 아래와 같이</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre> <span class="no">INFO</span> <span class="mi">87751</span> <span class="o">---</span> <span class="o">[</span>           <span class="n">main</span><span class="o">]</span> <span class="n">o</span><span class="o">.</span><span class="na">s</span><span class="o">.</span><span class="na">b</span><span class="o">.</span><span class="na">w</span><span class="o">.</span><span class="na">embedded</span><span class="o">.</span><span class="na">tomcat</span><span class="o">.</span><span class="na">TomcatWebServer</span>  <span class="o">:</span> <span class="nc">Tomcat</span> <span class="n">started</span> <span class="n">on</span> <span class="nf">port</span><span class="o">(</span><span class="n">s</span><span class="o">):</span> <span class="mi">49982</span> <span class="o">(</span><span class="n">http</span><span class="o">)</span> <span class="n">with</span> <span class="n">context</span> <span class="n">path</span> <span class="err">''</span><span class="n">과</span>
 
 <span class="nl">Hibernate:</span> <span class="n">insert</span> <span class="n">into</span> <span class="nf">posts</span> <span class="o">(</span><span class="n">author</span><span class="o">,</span> <span class="n">content</span><span class="o">,</span> <span class="n">title</span><span class="o">)</span> <span class="n">values</span> <span class="o">(?,</span> <span class="o">?,</span> <span class="o">?)</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>WebEnvironment.RANDOM_PORT로 인한 랜덤 포트 실행과 insert 쿼리가 모두 실행된 것을 확인했다.</p>

<p>이렇게 하면 게시판 기능의 등록 기능의 구현이 완료되었음을 테스트 코드로 확인할 수 있다.</p>

        
      </section>

      <footer class="page__meta">
        
        


  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> 카테고리: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#java" class="page__taxonomy-item" rel="tag">java</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> 업데이트:</strong> <time datetime="2022-01-04T00:00:00+00:00">January 4, 2022</time></p>


      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">공유하기</h4>
  

  <a href="https://twitter.com/intent/tweet?text=%5BSpring%5D+%EA%B2%8C%EC%8B%9C%ED%8C%90+%EB%A7%8C%EB%93%A4%EA%B8%B0+%281%29%20http%3A%2F%2Flocalhost%3A4000%2Fjava%2FSpring-%25EA%25B2%258C%25EC%258B%259C%25ED%258C%2590-%25EB%25A7%258C%25EB%2593%25A4%25EA%25B8%25B0-%281%29%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fjava%2FSpring-%25EA%25B2%258C%25EC%258B%259C%25ED%258C%2590-%25EB%25A7%258C%25EB%2593%25A4%25EA%25B8%25B0-%281%29%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fjava%2FSpring-%25EA%25B2%258C%25EC%258B%259C%25ED%258C%2590-%25EB%25A7%258C%25EB%2593%25A4%25EA%25B8%25B0-%281%29%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/java/Spring-%EC%9B%B9%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80%EB%A1%9C-Hello-World-%EC%B6%9C%EB%A0%A5%ED%95%B4%EB%B3%B4%EA%B8%B0/" class="pagination--pager" title="[Spring] 웹브라우저로 Hello World 출력해보기
">이전</a>
    
    
      <a href="/diary-univ/%EB%B6%80%EC%82%B0-%EC%97%AC%ED%96%89/" class="pagination--pager" title="부산 여행
">다음</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">참고</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/diary-univ/%EC%95%84%EB%91%90%EC%9D%B4%EB%85%B8-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC%ED%8C%8C%EC%9D%B4/" rel="permalink">아두이노 라즈베리파이
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-03-21T00:00:00+00:00">March 21, 2022</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          2 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">2022.03.21
올해 듣는 수업이 대부분 프로젝트 수업이라서 사실 수업보다는 그냥 실험하고, 프로젝트 하나 완료하는것들이 전공수업의 전부가 되었다.

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/etc/Docker-%EB%A1%9C-%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8-%EC%84%9C%EB%B2%84-%EB%9D%84%EC%9A%B0%EA%B8%B0/" rel="permalink">[Docker]로 스프링부트 서버 띄우기
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-03-21T00:00:00+00:00">March 21, 2022</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          최대 1 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Docker란?
Docker는 리눅스 응용프로그램들을 프로세스 격리 기술들을 사용해서 컨테이너로 실행하고 관리하는 오픈소스 프로젝트입니다.

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/diary-univ/%EA%B0%80%EB%8A%A5%EC%84%B1%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC/" rel="permalink">가능성에 대하여
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-03-19T00:00:00+00:00">March 19, 2022</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          3 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">2022.03.19
요즘 인생의 방향성에 대해 생각이 좀 많다. 원래는 이번년도에 창업을 해보면서 대략 어떤 느낌인지 맛을 보자는 느낌이었는데, 계획서를 써보고 공부해볼 수록 그렇게 1년만 해볼 수 있는 문제가 아니란걸 깨닫는다. 그런식으로 1년만 하려는 마음가짐으로 뭔가를 이뤄내...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/diary-univ/%EC%9D%BC%EB%A6%AC-%EC%BB%A4%ED%94%BC%EB%A8%B8%EC%8B%A0/" rel="permalink">일리 커피머신
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-03-15T00:00:00+00:00">March 15, 2022</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          최대 1 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">2022.03.15


</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>팔로우:</strong></li>
    

    
      
        
      
        
      
        
          <li><a href="https://github.com/leeminjae-dev" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
          <li><a href="https://www.instagram.com/mj_lee_97/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> 피드</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 이민재. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>







    
  <script>
    var disqus_config = function () {
      this.page.url = "http://localhost:4000/java/Spring-%EA%B2%8C%EC%8B%9C%ED%8C%90-%EB%A7%8C%EB%93%A4%EA%B8%B0-(1)/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/java/[Spring] 게시판 만들기 (1)"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://leeminjae-dev-github-io.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  





  </body>
</html>


<!-- 웹 폰트 설정 -->
<link rel="stylesheet" href="/assets/css/high3.css">